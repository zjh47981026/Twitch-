{"ast":null,"code":"var _jsxFileName = \"/Users/zhangjiahao/jupiter/frontend/twitchfe/src/App.js\";\nimport React from 'react';\nimport { Button, Col, Layout, Menu, message, Row } from 'antd';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport { getFavoriteItem, getRecommendations, getTopGames, logout, searchGameById } from './utils';\nimport Favorites from './components/Favorites';\nimport { LikeOutlined, FireOutlined } from '@ant-design/icons';\nimport CustomSearch from './components/CustomSearch';\nimport SubMenu from 'antd/lib/menu/SubMenu';\nimport Home from './components/Home';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  Header,\n  Content,\n  Sider\n} = Layout;\n\nclass App extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      loggedIn: false,\n      topGames: [],\n      resources: {\n        VIDEO: [],\n        STREAM: [],\n        CLIP: []\n      },\n      favoriteItems: []\n    };\n\n    this.onGameSelect = _ref => {\n      let {\n        key\n      } = _ref;\n\n      if (key === 'Recommendation') {\n        getRecommendations().then(data => {\n          this.setState({\n            resources: data\n          });\n        });\n        return;\n      }\n\n      searchGameById(key).then(data => {\n        this.setState({\n          resources: data\n        });\n      });\n    };\n\n    this.customSearchOnSuccess = data => {\n      this.setState({\n        resources: data\n      });\n    };\n\n    this.signinOnSuccess = () => {\n      getFavoriteItem().then(data => {\n        this.setState({\n          favoriteItems: data,\n          loggedIn: true\n        });\n      }).catch(err => {\n        message.error(err.message);\n      });\n    };\n\n    this.signoutOnClick = () => {\n      logout().then(() => {\n        this.setState({\n          loggedIn: false\n        });\n        message.success(`Successfull signed out`);\n      }).catch(err => {\n        message.error(err.message);\n      });\n    };\n\n    this.componentDidMount = () => {\n      getTopGames().then(data => {\n        this.setState({\n          topGames: data\n        });\n      }).catch(err => {\n        message.error(err.message);\n      });\n    };\n\n    this.render = () => /*#__PURE__*/_jsxDEV(Layout, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          justify: \"space-between\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: this.state.loggedIn && /*#__PURE__*/_jsxDEV(Favorites, {\n              data: this.state.favoriteItems\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: this.state.loggedIn ? /*#__PURE__*/_jsxDEV(Button, {\n              shape: \"round\",\n              onClick: this.signoutOnClick,\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Login, {\n                onSuccess: this.signinOnSuccess\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Layout, {\n        children: [/*#__PURE__*/_jsxDEV(Sider, {\n          width: 300,\n          className: \"site-layout-background\",\n          children: [/*#__PURE__*/_jsxDEV(CustomSearch, {\n            onSuccess: this.customSearchOnSuccess\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Menu, {\n            mode: \"inline\",\n            onSelect: this.onGameSelect,\n            style: {\n              marginTop: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Menu.Item, {\n              icon: /*#__PURE__*/_jsxDEV(LikeOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 30\n              }, this),\n              children: \"Recommend for you!\"\n            }, \"Recommendation\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(SubMenu, {\n              icon: /*#__PURE__*/_jsxDEV(FireOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 28\n              }, this),\n              title: \"Popular Games\",\n              className: \"site-top-game-list\",\n              children: this.state.topGames.map(game => {\n                return /*#__PURE__*/_jsxDEV(Menu.Item, {\n                  style: {\n                    height: '50px'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"Placeholder\",\n                    src: game.box_art_url.replace('{height}', '40').replace('{width}', '40'),\n                    style: {\n                      borderRadius: '50%',\n                      marginRight: '20px'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: game.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 23\n                  }, this)]\n                }, game.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 21\n                }, this);\n              })\n            }, \"Popular Games\", false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Layout, {\n          style: {\n            padding: '24px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Content, {\n            className: \"site-layout-background\",\n            style: {\n              padding: 24,\n              margin: 0,\n              height: 800,\n              overflow: 'auto'\n            },\n            children: /*#__PURE__*/_jsxDEV(Home, {\n              resources: this.state.resources,\n              loggedIn: this.state.loggedIn\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/zhangjiahao/jupiter/frontend/twitchfe/src/App.js"],"names":["React","Button","Col","Layout","Menu","message","Row","Login","Register","getFavoriteItem","getRecommendations","getTopGames","logout","searchGameById","Favorites","LikeOutlined","FireOutlined","CustomSearch","SubMenu","Home","Header","Content","Sider","App","Component","state","loggedIn","topGames","resources","VIDEO","STREAM","CLIP","favoriteItems","onGameSelect","key","then","data","setState","customSearchOnSuccess","signinOnSuccess","catch","err","error","signoutOnClick","success","componentDidMount","render","marginTop","map","game","height","box_art_url","replace","borderRadius","marginRight","name","id","padding","margin","overflow"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Button, Col, Layout, Menu, message, Row } from 'antd';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport { getFavoriteItem, getRecommendations, getTopGames, logout, searchGameById } from './utils';\nimport Favorites from './components/Favorites';\nimport { LikeOutlined, FireOutlined } from '@ant-design/icons';\nimport CustomSearch from './components/CustomSearch';\nimport SubMenu from 'antd/lib/menu/SubMenu';\nimport Home from './components/Home';\n \nconst { Header, Content, Sider } = Layout;\n \nclass App extends React.Component {\n  state = {\n    loggedIn: false,\n    topGames: [],\n    resources: {\n      VIDEO: [],\n      STREAM: [],\n      CLIP: [],\n    },\n    favoriteItems: [],\n  }\n \n  onGameSelect = ({ key }) => {\n    if (key === 'Recommendation') {\n      getRecommendations().then((data) => {\n        this.setState({\n          resources: data,\n        })\n      })\n \n      return;\n    }\n \n    searchGameById(key).then((data) => {\n      this.setState({\n        resources: data,\n      })\n    })\n  }\n \n  customSearchOnSuccess = (data) => {\n    this.setState({\n      resources: data,\n    })\n  }\n \n  signinOnSuccess = () => {\n    getFavoriteItem().then((data) => {\n      this.setState({\n        favoriteItems: data,\n        loggedIn: true\n      })\n    }).catch((err) => {\n      message.error(err.message);\n    })\n  }\n \n  signoutOnClick = () => {\n    logout()\n      .then(() => {\n        this.setState({\n          loggedIn: false\n        })\n        message.success(`Successfull signed out`);\n      }).catch((err) => {\n        message.error(err.message);\n      })\n  }\n \n  componentDidMount = () => {\n    getTopGames()\n      .then((data) => {\n        this.setState({\n          topGames: data\n        })\n      })\n      .catch((err) => {\n        message.error(err.message);\n      })\n  }\n \n  render = () => (\n    <Layout>\n      <Header>\n        <Row justify=\"space-between\">\n            <Col>\n              {\n                this.state.loggedIn &&\n                <Favorites data={this.state.favoriteItems} />\n              }\n            </Col>\n            <Col>\n              {\n                this.state.loggedIn ? \n                <Button shape=\"round\" onClick={this.signoutOnClick}>\n                  Logout</Button> :\n                (\n                  <>\n                    <Login onSuccess={this.signinOnSuccess} />\n                    <Register />\n                  </>\n                )\n              }\n            </Col>\n          </Row>\n      </Header>\n      <Layout>\n        <Sider width={300} className=\"site-layout-background\">\n          <CustomSearch onSuccess={this.customSearchOnSuccess} />\n          <Menu\n            mode=\"inline\"\n            onSelect={this.onGameSelect}\n            style={{ marginTop: '10px' }}\n          >\n            <Menu.Item icon={<LikeOutlined />} key=\"Recommendation\">\n              Recommend for you!</Menu.Item>\n            <SubMenu icon={<FireOutlined />} key=\"Popular Games\" title=\"Popular Games\" className=\"site-top-game-list\">\n              {\n                this.state.topGames.map((game) => {\n                  return (\n                    <Menu.Item key={game.id} style={{ height: '50px' }}>\n                      <img \n                        alt=\"Placeholder\"\n                        src={game.box_art_url.replace('{height}', '40').replace('{width}', '40')}\n                        style={{ borderRadius: '50%', marginRight: '20px' }}\n                      />\n                      <span>\n                        {game.name}\n                      </span>\n                    </Menu.Item>\n                  )\n                })\n              }\n            </SubMenu>\n          </Menu>\n        </Sider>\n        <Layout style={{ padding: '24px' }}>\n          <Content\n            className=\"site-layout-background\"\n            style={{\n              padding: 24,\n              margin: 0,\n              height: 800,\n              overflow: 'auto'\n            }}\n          >\n            <Home resources={this.state.resources} loggedIn={this.state.loggedIn} />\n          </Content>\n        </Layout>\n      </Layout>\n    </Layout>\n  )\n}\n \nexport default App;\n"]},"metadata":{},"sourceType":"module"}