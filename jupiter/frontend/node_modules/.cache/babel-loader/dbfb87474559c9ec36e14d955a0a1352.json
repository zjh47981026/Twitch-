{"ast":null,"code":"import _createClass from\"/Users/zhangjiahao/jupiter/frontend/twitchfe/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _classCallCheck from\"/Users/zhangjiahao/jupiter/frontend/twitchfe/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _inherits from\"/Users/zhangjiahao/jupiter/frontend/twitchfe/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/zhangjiahao/jupiter/frontend/twitchfe/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Button,Form,Input,message,Modal}from'antd';import React from'react';import{LockOutlined,UserOutlined}from'@ant-design/icons';import{login}from'../utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={displayModal:false};_this.handleCancel=function(){_this.setState({displayModal:false});};_this.signinOnClick=function(){_this.setState({displayModal:true});};_this.onFinish=function(data){login(data).then(function(data){_this.setState({displayModal:false});message.success(\"Welcome back, \".concat(data.name));_this.props.onSuccess();}).catch(function(err){message.error(err.message);});};_this.render=function(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{shape:\"round\",onClick:_this.signinOnClick,style:{marginRight:'20px'},children:\"Login\"}),/*#__PURE__*/_jsx(Modal,{title:\"Log in\",visible:_this.state.displayModal,onCancel:_this.handleCancel,footer:null,destroyOnClose:true,children:/*#__PURE__*/_jsxs(Form,{name:\"normal_login\",onFinish:_this.onFinish,preserve:false,children:[/*#__PURE__*/_jsx(Form.Item,{name:\"user_id\",rules:[{required:true,message:'Please input your Username!'}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(UserOutlined,{}),placeholder:\"Username\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",rules:[{required:true,message:'Please input your Password!'}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(LockOutlined,{}),placeholder:\"Password\"})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:\"Login\"})})]})})]});};return _this;}return _createClass(Login);}(React.Component);export default Login;","map":{"version":3,"sources":["/Users/zhangjiahao/jupiter/frontend/twitchfe/src/components/Login.js"],"names":["Button","Form","Input","message","Modal","React","LockOutlined","UserOutlined","login","Login","state","displayModal","handleCancel","setState","signinOnClick","onFinish","data","then","success","name","props","onSuccess","catch","err","error","render","marginRight","required","Component"],"mappings":"wfAAA,OAASA,MAAT,CAAiBC,IAAjB,CAAuBC,KAAvB,CAA8BC,OAA9B,CAAuCC,KAAvC,KAAoD,MAApD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,YAAT,CAAuBC,YAAvB,KAA2C,mBAA3C,CACA,OAASC,KAAT,KAAsB,UAAtB,C,gJAEMC,CAAAA,K,mUACJC,K,CAAQ,CACNC,YAAY,CAAE,KADR,C,OAIRC,Y,CAAe,UAAM,CACnB,MAAKC,QAAL,CAAc,CACZF,YAAY,CAAE,KADF,CAAd,EAGD,C,OAEDG,a,CAAgB,UAAM,CACpB,MAAKD,QAAL,CAAc,CACZF,YAAY,CAAE,IADF,CAAd,EAGD,C,OAEDI,Q,CAAW,SAACC,IAAD,CAAU,CACnBR,KAAK,CAACQ,IAAD,CAAL,CACGC,IADH,CACQ,SAACD,IAAD,CAAU,CACd,MAAKH,QAAL,CAAc,CACZF,YAAY,CAAE,KADF,CAAd,EAGAR,OAAO,CAACe,OAAR,yBAAiCF,IAAI,CAACG,IAAtC,GACA,MAAKC,KAAL,CAAWC,SAAX,GACD,CAPH,EAOKC,KAPL,CAOW,SAACC,GAAD,CAAS,CAChBpB,OAAO,CAACqB,KAAR,CAAcD,GAAG,CAACpB,OAAlB,EACD,CATH,EAUD,C,OAEDsB,M,CAAS,UAAM,CACb,mBACE,wCACE,KAAC,MAAD,EAAQ,KAAK,CAAC,OAAd,CAAsB,OAAO,CAAE,MAAKX,aAApC,CAAmD,KAAK,CAAE,CAAEY,WAAW,CAAE,MAAf,CAA1D,mBADF,cAGE,KAAC,KAAD,EACE,KAAK,CAAC,QADR,CAEE,OAAO,CAAE,MAAKhB,KAAL,CAAWC,YAFtB,CAGE,QAAQ,CAAE,MAAKC,YAHjB,CAIE,MAAM,CAAE,IAJV,CAKE,cAAc,CAAE,IALlB,uBAOE,MAAC,IAAD,EACE,IAAI,CAAC,cADP,CAEE,QAAQ,CAAE,MAAKG,QAFjB,CAGE,QAAQ,CAAE,KAHZ,wBAKE,KAAC,IAAD,CAAM,IAAN,EACE,IAAI,CAAC,SADP,CAEE,KAAK,CAAE,CAAC,CAAEY,QAAQ,CAAE,IAAZ,CAAkBxB,OAAO,CAAE,6BAA3B,CAAD,CAFT,uBAIE,KAAC,KAAD,EAAO,MAAM,cAAE,KAAC,YAAD,IAAf,CAAiC,WAAW,CAAC,UAA7C,EAJF,EALF,cAWE,KAAC,IAAD,CAAM,IAAN,EACE,IAAI,CAAC,UADP,CAEE,KAAK,CAAE,CAAC,CAAEwB,QAAQ,CAAE,IAAZ,CAAkBxB,OAAO,CAAE,6BAA3B,CAAD,CAFT,uBAIE,KAAC,KAAD,EACE,MAAM,cAAE,KAAC,YAAD,IADV,CAEE,WAAW,CAAC,UAFd,EAJF,EAXF,cAqBE,KAAC,IAAD,CAAM,IAAN,wBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,SAAb,CAAuB,QAAQ,CAAC,QAAhC,mBADF,EArBF,GAPF,EAHF,GADF,CAwCD,C,4CAvEiBE,KAAK,CAACuB,S,EA0E1B,cAAenB,CAAAA,KAAf","sourcesContent":["import { Button, Form, Input, message, Modal } from 'antd';\nimport React from 'react';\nimport { LockOutlined, UserOutlined } from '@ant-design/icons';\nimport { login } from '../utils';\n \nclass Login extends React.Component {\n  state = {\n    displayModal: false\n  }\n \n  handleCancel = () => {\n    this.setState({\n      displayModal: false,\n    })\n  }\n \n  signinOnClick = () => {\n    this.setState({\n      displayModal: true,\n    })\n  }\n \n  onFinish = (data) => {\n    login(data)\n      .then((data) => {\n        this.setState({\n          displayModal: false,\n        })\n        message.success(`Welcome back, ${data.name}`);\n        this.props.onSuccess();\n      }).catch((err) => {\n        message.error(err.message);\n      })\n  }\n \n  render = () => {\n    return (\n      <>\n        <Button shape=\"round\" onClick={this.signinOnClick} style={{ marginRight: '20px' }}>\n        Login</Button>\n        <Modal\n          title=\"Log in\"\n          visible={this.state.displayModal}\n          onCancel={this.handleCancel}\n          footer={null}\n          destroyOnClose={true}\n        >\n          <Form\n            name=\"normal_login\"\n            onFinish={this.onFinish}\n            preserve={false}\n          >\n            <Form.Item\n              name=\"user_id\"\n              rules={[{ required: true, message: 'Please input your Username!' }]}\n            >\n              <Input prefix={<UserOutlined />} placeholder=\"Username\" />\n            </Form.Item>\n            <Form.Item\n              name=\"password\"\n              rules={[{ required: true, message: 'Please input your Password!' }]}\n            >\n              <Input\n                prefix={<LockOutlined />}\n                placeholder=\"Password\"\n              />\n            </Form.Item>\n \n            <Form.Item>\n              <Button type=\"primary\" htmlType=\"submit\">\n                Login</Button>\n            </Form.Item>\n          </Form>\n        </Modal>\n      </>\n    )\n  }\n}\n \nexport default Login;\n"]},"metadata":{},"sourceType":"module"}